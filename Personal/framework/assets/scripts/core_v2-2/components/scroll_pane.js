//--------------------------------------------------------------------------------------------------------
// Mercer Evolution - Core v2.2 - Scroll Pane JS
// DATE - January 6, 2014
// AUTHOR - Doug Fraize, Matthew Holmes
//--------------------------------------------------------------------------------------------------------

// Global function to replace browser scroll bars with scroll bars generated by jScrollPane (Mac OS X Lion Style)
var mulScrollPaneBars = function(){

	// Replace browser scroll bars with scroll bars generated by jScrollPane
	var scrollbars = '.jspHorizontalBar, .jspVerticalBar';
	jQuery('.js-mul-scroll-pane').bind('jsp-initialised', function (event, isScrollable) {
		
		var hideScrollBarsInitially = jQuery(this).hasClass('js-mul-scroll-pane-initial-hide');

		if (hideScrollBarsInitially) {

			// hide scroll bars on page load
			jQuery(this).find(scrollbars).hide();

		} else {

			// show scroll bars on page load
			jQuery(this).find(scrollbars).show();

		};
	
	}).jScrollPane().hover(
	
		// on hover, hide or show the scroll bar in scroll bar area
		function () {
			jQuery(this).find(scrollbars).stop().fadeTo('fast', 1);
		},
		function () {
			jQuery(this).find(scrollbars).stop().fadeTo('fast', 0);
		}
	);
};

// Scroll pane function, used to apply scroll pane to element with class name you pass into function
var mulScrollPane = function(className){
	jQuery('.' + className).ready(function(){
		mulScrollPaneBars();
	});
}

// Scroll pane helper
var mulScrollPaneHelper = function(){
	jQuery('.js-mul-scroll-pane-helper').ready(function(){
		mulScrollPaneBars();
	});
}

// Scroll Pane Helper Init
mulScrollPaneHelper();